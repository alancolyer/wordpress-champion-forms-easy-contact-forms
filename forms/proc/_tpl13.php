<field><?php if (isset($ShowLabel) && $ShowLabel == 'on') { ?><ShowLabel position="<?php if (isset($LabelPosition) && !empty($LabelPosition)) { $position = explode('-', $LabelPosition); $position = $position[0]; echo $position; } else {echo 'left';} ?>"><![CDATA[<label for='ufo-field-id-<?php echo $id;?>' <?php if (isset($LabelCSSClass) && !empty($LabelCSSClass)) {echo "class='$LabelCSSClass'";}; if (isset($LabelPosition)) { $style = array(); $align = explode('-',$LabelPosition); $align = $align[count($align)-1]; $style[] = "text-align:$align"; }; if (isset($LabelCSSStyle) && !empty($LabelCSSStyle)) { $style = array(); $style[] = $LabelCSSStyle; }; if (count($style) > 0) {echo " style='". implode(';',$style). "'";}; ?>><?php echo $Label;if(isset($Required) && $Required == 'on' && isset($SetRequiredSuffix) && $SetRequiredSuffix == 'on' && isset($RequiredSuffix) && !empty($RequiredSuffix)) {?><span <?php if (isset($RequiredSuffixCSSClass) && !empty($RequiredSuffixCSSClass)) {echo "class='$RequiredSuffixCSSClass'";}; if (isset($RequiredSuffixCSSStyle) && !empty($RequiredSuffixCSSStyle)) {echo " style='$RequiredSuffixCSSStyle'";}; ?>><?php echo $RequiredSuffix; ?></span><?php }?></label>]]></ShowLabel><?php } ?><?php if (isset($ShowDescription) && $ShowDescription == 'on') { ?><ShowDescription position="<?php if (isset($DescriptionPosition) && !empty($DescriptionPosition)) { echo $DescriptionPosition; } else {echo 'bottom';} ?>"><![CDATA[<div <?php if (isset($DescriptionCSSClass) && !empty($DescriptionCSSClass)) {echo "class='$DescriptionCSSClass'";}; if (isset($DescriptionCSSStyle) && !empty($DescriptionCSSStyle)) {echo " style='$DescriptionCSSStyle'";}; ?>><?php if (isset($Description)) {echo $Description; }; ?></div>]]></ShowDescription><?php } ?><?php if (((isset($Required) && $Required == 'on')||(isset($Validate) && $Validate == 'on')) && isset($RequiredMessage) && !empty($RequiredMessage)) { ?><RequiredMessage position="<?php if (isset($RequiredMessagePosition) && !empty($RequiredMessagePosition)) { echo $RequiredMessagePosition; } else {echo 'right';} ?>"><![CDATA[<div id='ufo-field-id-<?php echo $id;?>-invalid' <?php if (isset($RequiredMessageCSSClass) && !empty($RequiredMessageCSSClass)) {echo "class='$RequiredMessageCSSClass'";};?> style='<?php if (isset($RequiredMessageCSSStyle) && !empty($RequiredMessageCSSStyle)) {echo trim($RequiredMessageCSSStyle, ' ;') . ';';};?>display:none'></div>]]></RequiredMessage><?php } ?><?php if (isset($Validate) && $Validate == 'on' && isset($SetValidMessage) && $SetValidMessage == 'on' && isset($ValidMessage)) { ?><ValidMessage position="<?php if (isset($ValidMessagePosition) && !empty($ValidMessagePosition)) { echo $ValidMessagePosition; } else {echo 'right';} ?>"><![CDATA[<div id='ufo-field-id-<?php echo $id;?>-valid' <?php if (isset($ValidCSSClass) && !empty($ValidCSSClass)) {echo "class='$ValidCSSClass'";};?> style='<?php if (isset($ValidCSSStyle) && !empty($ValidCSSStyle)) {echo trim($ValidCSSStyle, ' ;') . ';';};?>display:none'><?php if (!empty($ValidMessage)) { echo $ValidMessage; } ?></div>]]></ValidMessage><?php } ?><Validation><![CDATA[<?php $config = (object) array(); $config->events = (object) array(); $config->events->blur[] = 'recaptcharequired'; $config->Required = TRUE; if (isset($RequiredMessage) && !empty($RequiredMessage)) { $config->RequiredMessage = htmlspecialchars($RequiredMessage); } if (isset($AbsolutePosition) && $AbsolutePosition == 'on') { $config->AbsolutePosition = TRUE; } if (isset($RequiredMessagePosition) && !empty($RequiredMessagePosition)) { $config->RequiredMessagePosition = $RequiredMessagePosition; } if (isset($RequiredMessageCSSClass) && !empty($RequiredMessageCSSClass)) { $config->RequiredMessageCSSClass = $RequiredMessageCSSClass; } if (isset($RequiredMessageCSSStyle) && !empty($RequiredMessageCSSStyle)) { $config->RequiredMessageCSSStyle = $RequiredMessageCSSStyle; } if (isset($InvalidCSSClass) && !empty($InvalidCSSClass)) { $config->InvalidCSSClass = $InvalidCSSClass; } if (isset($SetValidMessage) && $SetValidMessage == 'on') { $config->showValid = TRUE; if (isset($ValidMessageAbsolutePosition) && $ValidMessageAbsolutePosition == 'on') { $config->ValidMessageAbsolutePosition = TRUE; } if (isset($ValidMessagePosition) && !empty($ValidMessagePosition)) { $config->ValidMessagePosition = $ValidMessagePosition; } if (isset($ValidCSSClass) && !empty($ValidCSSClass)) { $config->ValidCSSClass = $ValidCSSClass; } if (isset($ValidCSSStyle) && !empty($ValidCSSStyle)) { $config->ValidCSSStyle = $ValidCSSStyle; } if (isset($ValidMessage) && !empty($ValidMessage)) { $config->ValidMessage = htmlspecialchars($ValidMessage); } } $config->rcparams = (object) array(); if (isset($ReCaptchaLanguage) && !empty($ReCaptchaLanguage)) { $config->rcparams->lang = $ReCaptchaLanguage; } if (isset($ReCaptchaTheme) && !empty($ReCaptchaTheme)) { $config->rcparams->theme = $ReCaptchaTheme; } $config->pbk = $ReCaptchaPublicKey; $config->id = "ufo-field-id-$id"; $config->form = "ufo-form-id-$formid"; $js = 'ufoFormsConfig.validations.push(' . json_encode($config) . ');'; echo "<script type='text/javascript'>" . $js . "</script>"; ?>]]></Validation><Input <?php if (isset($SetSize) && $SetSize == 'on' && isset($Width) && !empty($Width) && isset($WidthUnit) && $WidthUnit != 'chars') {echo ' width="' . $Width . $WidthUnit . '"';}; ?><?php if (isset($RowCSSClass) && !empty($RowCSSClass) && isset($SetStyle) && $SetStyle == 'on') {echo ' rowclass="' . $RowCSSClass . '"';}; ?><?php if (isset($InputPosition) && !empty($InputPosition)) {echo ' position="' . $InputPosition . '"';}; ?>><![CDATA[<div <?php $class = array();if (isset($CSSClass) && !empty($CSSClass)) { $class[] = $CSSClass; };if (count($class) > 0) {echo " class='" . implode(' ', $class) . "'";};if (isset($SetSize) && $SetSize == 'on' && isset($Width) && !empty($Width) && isset($WidthUnit) && $WidthUnit == 'chars') {echo "size='$Width'";};$style = array();if (isset($SetSize) && $SetSize == 'on' && isset($Width) && !empty($Width) && isset($WidthUnit) && !empty($WidthUnit) && $WidthUnit != 'chars') {$style[] = "width:{$Width}{$WidthUnit}";};if (isset($SetStyle) && $SetStyle == 'on' && isset($CSSStyle) && !empty($CSSStyle)) { $style[] = $CSSStyle; };if (count($style) > 0) {echo " style='" . implode(';', $style) . "'";};?>><?php if (isset($ReCaptchaPublicKey) && !empty($ReCaptchaPublicKey)) { ?><input type='hidden' id='ufo-field-id-<?php echo $id; ?>-sid' value='{id-<?php echo $id;?>}' name='sid'/><div id='ufo-field-id-<?php echo $id;?>'></div><script type='text/javascript' src='http://www.google.com/recaptcha/api/js/recaptcha_ajax.js'></script><script type='text/javascript'><?php $jsc = '';$c = (object) array();if (isset($ReCaptchaLanguage) && !empty($ReCaptchaLanguage)) {	$c->lang = $ReCaptchaLanguage;}if (isset($ReCaptchaTheme) && !empty($ReCaptchaTheme)) {	$c->theme = $ReCaptchaTheme;}if (count( (array)$c) > 0) {$jsc = ', ' . json_encode($c);};?>Recaptcha.create("<?php echo $ReCaptchaPublicKey;?>", 'ufo-field-id-<?php echo $id;?>'<?php echo $jsc;?>);</script><noscript><iframe src='http://www.google.com/recaptcha/api/noscript?k=<?php echo $ReCaptchaPublicKey;?>' height='300' width='500'></iframe><br /><textarea name='recaptcha_challenge_field' rows='3' cols='40'></textarea><input type='hidden' value='manual_challenge' name='recaptcha_response_field'/></noscript><?php } ?></div>]]></Input></field>